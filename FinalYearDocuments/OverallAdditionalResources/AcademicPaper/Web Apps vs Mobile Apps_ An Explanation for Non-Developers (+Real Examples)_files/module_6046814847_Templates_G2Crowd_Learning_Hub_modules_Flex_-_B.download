var module_3498039=(function(){var h={};i18n_getmessage=function(){return hs_i18n_getMessage(h,hsVars.language,arguments)};i18n_getlanguage=function(){return hsVars.language};var i=function(v){var o=3;var l="",k=v,w=v.querySelector(".hs-search-field__input"),j=v.querySelector(".hs-search-field__suggestions"),q=function(){var y=[];var z=v.querySelector("form");for(var x=0;x<z.querySelectorAll("input[type=hidden]").length;x++){var A=z.querySelectorAll("input[type=hidden]")[x];if(A.name!=="limit"){y.push(encodeURIComponent(A.name)+"="+encodeURIComponent(A.value))}}var B=y.join("&");return B};var s=function(y,A,x){var z;return function(){var E=this,D=arguments;var C=function(){z=null;if(!x){y.apply(E,D)}};var B=x&&!z;clearTimeout(z);z=setTimeout(C,A||200);if(B){y.apply(E,D)}}},t=function(){j.innerHTML="";w.focus();k.classList.remove("hs-search-field--open")},r=function(y){var x=[];x.push("<li id='results-for'>Results for \""+y.searchTerm+'"</li>');y.results.forEach(function(A,z){x.push("<li id='result"+z+"'><a href='"+A.url+"'>"+A.title+"</a></li>")});t();j.innerHTML=x.join("");k.classList.add("hs-search-field--open")},p=function(){var y=new XMLHttpRequest();var x="/_hcms/search?&term="+encodeURIComponent(l)+"&limit="+encodeURIComponent(o)+"&autocomplete=true&analytics=true&"+q();y.open("GET",x,true);y.onload=function(){if(y.status>=200&&y.status<400){var z=JSON.parse(y.responseText);if(z.total>0){r(z);m()}else{t()}}else{console.error("Server reached, error retrieving results.")}};y.onerror=function(){console.error("Could not reach the server.")};y.send()},m=function(){var E=[];E.push(w);var C=j.getElementsByTagName("A");for(var y=0;y<C.length;y++){E.push(C[y])}var B=E[0],x=E[E.length-1];var A=function(F){if(F.target==x&&!F.shiftKey){F.preventDefault();B.focus()}else{if(F.target==B&&F.shiftKey){F.preventDefault();x.focus()}}},z=function(F){F.preventDefault();if(F.target==x){B.focus()}else{E.forEach(function(G){if(G==F.target){E[E.indexOf(G)+1].focus()}})}},D=function(F){F.preventDefault();if(F.target==B){x.focus()}else{E.forEach(function(G){if(G==F.target){E[E.indexOf(G)-1].focus()}})}};k.addEventListener("keydown",function(F){switch(F.which){case 9:A(F);break;case 27:t();break;case 38:D(F);break;case 40:z(F);break}})},n=s(function(){l=w.value;if(l.length>2){p()}else{if(l.length==0){t()}}},250),u=(function(){w.addEventListener("input",function(x){if((x.which!=9)&&(x.which!=40)&&(x.which!=38)&&(x.which!=27)&&(l!=w.value)){n()}})})()};if(document.attachEvent?document.readyState==="complete":document.readyState!=="loading"){var a=document.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(a,function(k){var j=i(k)})}else{document.addEventListener("DOMContentLoaded",function(){var j=document.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(j,function(l){var k=i(l)})})}function c(){var j=$(window).scrollTop();Math.abs(e-j)<=f||(j>e&&j>d?$(".slideUp").css({top:-$(window).outerHeight()}):j+$(window).height()<$(document).height()&&$(".slideUp").css({top:0}),e=j)}var b=$(window),g,e=0,f=10,d=$(".slideUp").outerHeight();$(window).scroll(function(j){g=!0}),setInterval(function(){g&&(c(),g=!1)},250)})();